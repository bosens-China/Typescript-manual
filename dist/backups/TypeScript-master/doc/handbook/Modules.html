<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello TypeScript</title>
    <meta name="description" content="TypeScript是JavaScript类型的超集，它可以编译成纯JavaScript。
  TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。">
    <meta name="keywords" content="typescript,中文,手册,文档">
  <meta name="author" content="boses">
  <meta name="google" content="notranslate">
  <link rel="icon" href="/Typescript-manual/dist/favicon.png">
    
    <link rel="preload" href="/Typescript-manual/dist/assets/css/0.styles.ecbf0d50.css" as="style"><link rel="preload" href="/Typescript-manual/dist/assets/js/app.6df4dbfd.js" as="script"><link rel="preload" href="/Typescript-manual/dist/assets/js/2.a0a5f29f.js" as="script"><link rel="preload" href="/Typescript-manual/dist/assets/js/52.6b22e269.js" as="script"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/10.651561e8.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/100.58dd66bc.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/101.86deb84d.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/102.8f0da4c0.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/103.4151bb14.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/104.44908a96.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/105.376e69f3.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/106.4c956f84.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/107.750f9331.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/108.644d1268.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/109.cd06bd4c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/11.4b6256b1.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/110.5ccf36a9.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/111.e44bdf93.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/112.fd891e6a.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/113.bec172ce.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/114.89033379.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/115.3795e9ef.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/116.025f11a7.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/117.0921e353.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/118.96d4391e.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/119.c8d5ae33.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/12.ef78d850.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/120.18ed3504.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/121.1b2c65cd.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/122.2abcb8ef.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/123.c604cb03.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/124.feaa2aee.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/125.7c94f27f.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/126.677b4d7a.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/127.2a87a004.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/13.3cdd97ed.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/14.52293fbd.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/15.5b8ab803.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/16.17c8ecff.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/17.0ada1629.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/18.d88241d4.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/19.289f960a.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/20.ed10777a.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/21.f3e3a710.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/22.dfa8844d.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/23.eb826312.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/24.5750b3af.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/25.fd1a047c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/26.470dc15d.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/27.9b2d0edc.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/28.f250bf67.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/29.9e33af7f.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/3.335b7cd5.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/30.0f3d452b.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/31.ae9ecee8.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/32.cd2ae676.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/33.0f659103.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/34.3e4d89e6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/35.6637cd2f.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/36.8934156d.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/37.946d8553.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/38.0ff2ac37.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/39.ff8b7f01.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/4.703a7ab9.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/40.5fa0f2d8.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/41.0fbdcd54.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/42.340a1871.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/43.303aa363.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/44.915bd3ab.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/45.871eafc5.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/46.f215932c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/47.16e6f512.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/48.5418b8c6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/49.4b40b71c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/5.2c5dac14.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/50.7bb6bdda.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/51.1b8c40a9.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/53.66330dab.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/54.f0a5cb71.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/55.9e36f832.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/56.471ad9d6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/57.ed45285b.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/58.acec431b.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/59.954013b6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/6.66624a92.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/60.72ec6654.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/61.093f8114.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/62.aed7e4f0.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/63.d649c176.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/64.bedbc972.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/65.cc57a2fd.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/66.91022725.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/67.1fce5fce.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/68.a8903ffb.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/69.decf6c71.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/7.e6e6ea6e.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/70.211d6893.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/71.774feaf6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/72.e89591be.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/73.6afc8960.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/74.a1d6c31c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/75.62e0194c.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/76.a381ee62.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/77.762ae5e3.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/78.09eb09b4.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/79.9da5e0b9.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/8.c1481347.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/80.0ae4fd11.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/81.da13ba9a.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/82.03875245.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/83.78a7c95d.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/84.f57fdc24.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/85.f9630383.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/86.d0eed1f0.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/87.5ed56a67.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/88.66d49656.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/89.e4064de8.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/9.70336181.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/90.cf39cc29.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/91.f0d88912.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/92.f0a5730b.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/93.4765d0a9.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/94.66d12ab8.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/95.1768bbd7.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/96.9e7aef24.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/97.d6d8cf9f.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/98.32bd40a6.js"><link rel="prefetch" href="/Typescript-manual/dist/assets/js/99.f1150fee.js">
    <link rel="stylesheet" href="/Typescript-manual/dist/assets/css/0.styles.ecbf0d50.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Typescript-manual/dist/" class="home-link router-link-active"><!----> <span class="site-name">Hello TypeScript</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Typescript-manual/dist/describe/" class="nav-link">进入目录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接菜单" class="dropdown-title"><span class="title">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入理解 TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ts.xcatliu.com/introduction/hello-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hello-typescript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhongsp/TypeScript/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  参与贡献
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  问题反馈
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Typescript-manual/dist/describe/" class="nav-link">进入目录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友情链接菜单" class="dropdown-title"><span class="title">友情链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入理解 TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ts.xcatliu.com/introduction/hello-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hello-typescript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhongsp/TypeScript/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  参与贡献
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/bosens-China/Typescript-manual/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  问题反馈
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Typescript-manual/dist/describe/" class="sidebar-link">前言</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>快速上手</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/TypeScript in 5 minutes.html" class="sidebar-link">5分钟了解TypeScript</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/ASP.NET Core.html" class="sidebar-link">ASP.NET Core</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/ASP.NET 4.html" class="sidebar-link">ASP.NET 4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/Gulp.html" class="sidebar-link">Gulp</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/Knockout.html" class="sidebar-link">Knockout.js</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/React &amp; Webpack.html" class="sidebar-link">React与webpack</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/React.html" class="sidebar-link">React</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/Angular 2.html" class="sidebar-link">Angular 2</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tutorials/Migrating from JavaScript.html" class="sidebar-link">从JavaScript迁移到TypeScript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>手册</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Basic Types.html" class="sidebar-link">基础类型</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Variable Declarations.html" class="sidebar-link">变量声明</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Interfaces.html" class="sidebar-link">接口</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Classes.html" class="sidebar-link">类</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Functions.html" class="sidebar-link">函数</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Generics.html" class="sidebar-link">泛型</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Enums.html" class="sidebar-link">枚举</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Type Inference.html" class="sidebar-link">类型推论</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Type Compatibility.html" class="sidebar-link">类型兼容性</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Advanced Types.html" class="sidebar-link">高级类型</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Utility Types.html" class="sidebar-link">实用工具类型</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Symbols.html" class="sidebar-link">Symbols</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Iterators and Generators.html" class="sidebar-link">Iterators 和 Generators</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html" class="active sidebar-link">模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#导出声明" class="sidebar-link">导出声明</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#导出语句" class="sidebar-link">导出语句</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#重新导出" class="sidebar-link">重新导出</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#导入一个模块中的某个导出内容" class="sidebar-link">导入一个模块中的某个导出内容</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#将整个模块导入到一个变量，并通过它来访问模块的导出部分" class="sidebar-link">将整个模块导入到一个变量，并通过它来访问模块的导出部分</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#具有副作用的导入模块" class="sidebar-link">具有副作用的导入模块</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#外部模块" class="sidebar-link">外部模块</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#尽可能地在顶层导出" class="sidebar-link">尽可能地在顶层导出</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#使用重新导出进行扩展" class="sidebar-link">使用重新导出进行扩展</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#模块里不要使用命名空间" class="sidebar-link">模块里不要使用命名空间</a></li><li class="sidebar-sub-header"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Modules.html#危险信号" class="sidebar-link">危险信号</a></li></ul></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Namespaces.html" class="sidebar-link">命名空间</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Namespaces and Modules.html" class="sidebar-link">命名空间和模块</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Module Resolution.html" class="sidebar-link">模块解析</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Declaration Merging.html" class="sidebar-link">声明合并</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Writing Definition Files.html" class="sidebar-link">书写.d.ts文件</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/JSX.html" class="sidebar-link">JSX</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Mixins.html" class="sidebar-link">混入</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Triple-Slash Directives.html" class="sidebar-link">三斜线指令</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Type Checking JavaScript Files.html" class="sidebar-link">JavaScript文件里的类型检查</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>如何书写声明文件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/Library Structures.html" class="sidebar-link">结构</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/Do's and Don'ts.html" class="sidebar-link">规范</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/By Example.html" class="sidebar-link">举例</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/Deep Dive.html" class="sidebar-link">深入</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/Publishing.html" class="sidebar-link">发布</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/declaration files/Consumption.html" class="sidebar-link">使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工程配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/tsconfig.json.html" class="sidebar-link">tsconfig.json</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Project References.html" class="sidebar-link">工程引用</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Typings for NPM Packages.html" class="sidebar-link">NPM包的类型</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Compiler Options.html" class="sidebar-link">编译选项</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Configuring Watch.html" class="sidebar-link">配置 Watch</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Compiler Options in MSBuild.html" class="sidebar-link">在MSBuild里使用编译选项</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Integrating with Build Tools.html" class="sidebar-link">与其它构建工具整合</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Nightly Builds.html" class="sidebar-link">使用TypeScript的每日构建版本</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Wiki</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/this-in-TypeScript.html" class="sidebar-link">TypeScript里的this</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/coding_guidelines.html" class="sidebar-link">编码规范</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/Common Errors.html" class="sidebar-link">常见编译错误</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/TypeScript-Editor-Support.html" class="sidebar-link">支持TypeScript的编辑器</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/Using-TypeScript-With-ASP.NET-5.html" class="sidebar-link">结合ASP.NET v5使用TypeScript</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/Architectural-Overview.html" class="sidebar-link">架构概述</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/wiki/Roadmap.html" class="sidebar-link">发展路线图</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>新增功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.6.html" class="sidebar-link">TypeScript 3.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.5.html" class="sidebar-link">TypeScript 3.5</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.4.html" class="sidebar-link">TypeScript 3.4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.3.html" class="sidebar-link">TypeScript 3.3</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.2.html" class="sidebar-link">TypeScript 3.2</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.1.html" class="sidebar-link">TypeScript 3.1</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 3.0.html" class="sidebar-link">TypeScript 3.0</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.9.html" class="sidebar-link">TypeScript 2.9</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.8.html" class="sidebar-link">TypeScript 2.8</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.7.html" class="sidebar-link">TypeScript 2.7</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.6.html" class="sidebar-link">TypeScript 2.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.5.html" class="sidebar-link">TypeScript 2.5</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.4.html" class="sidebar-link">TypeScript 2.4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.3.html" class="sidebar-link">TypeScript 2.3</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.2.html" class="sidebar-link">TypeScript 2.2</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.1.html" class="sidebar-link">TypeScript 2.1</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 2.0.html" class="sidebar-link">TypeScript 2.0</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.8.html" class="sidebar-link">TypeScript 1.8</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.7.html" class="sidebar-link">TypeScript 1.7</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.6.html" class="sidebar-link">TypeScript 1.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.5.html" class="sidebar-link">TypeScript 1.5</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.4.html" class="sidebar-link">TypeScript 1.4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.3.html" class="sidebar-link">TypeScript 1.3</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/release-notes/TypeScript 1.1.html" class="sidebar-link">TypeScript 1.1</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Breaking Changes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.6.html" class="sidebar-link">TypeScript 3.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.5.html" class="sidebar-link">TypeScript 3.5</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.4.html" class="sidebar-link">TypeScript 3.4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.2.html" class="sidebar-link">TypeScript 3.2</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.1.html" class="sidebar-link">TypeScript 3.1</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 3.0.html" class="sidebar-link">TypeScript 3.0</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.9.html" class="sidebar-link">TypeScript 2.9</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.8.html" class="sidebar-link">TypeScript 2.8</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.7.html" class="sidebar-link">TypeScript 2.7</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.6.html" class="sidebar-link">TypeScript 2.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.4.html" class="sidebar-link">TypeScript 2.4</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.3.html" class="sidebar-link">TypeScript 2.3</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.2.html" class="sidebar-link">TypeScript 2.2</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.1.html" class="sidebar-link">TypeScript 2.1</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 2.0.html" class="sidebar-link">TypeScript 2.0</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 1.8.html" class="sidebar-link">TypeScript 1.8</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 1.7.html" class="sidebar-link">TypeScript 1.7</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 1.6.html" class="sidebar-link">TypeScript 1.6</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 1.5.html" class="sidebar-link">TypeScript 1.5</a></li><li><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/breaking-changes/TypeScript 1.4.html" class="sidebar-link">TypeScript 1.4</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p><strong>关于术语的一点说明:</strong>
 请务必注意一点，TypeScript 1.5 里术语名已经发生了变化。
“内部模块” 现在称做 “命名空间”。
“外部模块” 现在则简称为 “模块”，这是为了与<a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener noreferrer"> ECMAScript 2015<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 里的术语保持一致，(也就是说  <code>module X {</code>  相当于现在推荐的写法  <code>namespace X {</code> )。</p></blockquote> <h1 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h1> <p>从 ECMAScript 2015 开始，JavaScript 引入了模块的概念。TypeScript 也沿用这个概念。</p> <p>模块在其自身的作用域里执行，而不是在全局作用域里；这意味着定义在一个模块里的变量，函数，类等等在模块外部是不可见的，除非你明确地使用<a href="#export"><code>export</code>  形式</a>之一导出它们。
相反，如果想使用其它模块导出的变量，函数，类，接口等的时候，你必须要导入它们，可以使用<a href="#import"><code>import</code>  形式</a>之一。</p> <p>模块是自声明的；两个模块之间的关系是通过在文件级别上使用 imports 和 exports 建立的。</p> <p>模块使用模块加载器去导入其它的模块。
在运行时，模块加载器的作用是在执行此模块代码前去查找并执行这个模块的所有依赖。
众所周知的 JavaScript 模块加载器有：作用于<a href="https://en.wikipedia.org/wiki/CommonJS" target="_blank" rel="noopener noreferrer"> CommonJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 模块的 Node.js 加载器和在 Web 应用里作用于<a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md" target="_blank" rel="noopener noreferrer"> AMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 模块的<a href="http://requirejs.org/" target="_blank" rel="noopener noreferrer"> RequireJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 加载器。</p> <p>TypeScript 与 ECMAScript 2015 一样，任何包含顶级 <code>import</code>  或者 <code>export</code>  的文件都被当成一个模块。
相反地，如果一个文件不带有顶级的 <code>import</code>  或者 <code>export</code>  声明，那么它的内容被视为全局可见的（因此对模块也是可见的）。</p> <h1 id="导出"><a href="#导出" class="header-anchor">#</a> <a name="export"></a>导出</h1> <h2 id="导出声明"><a href="#导出声明" class="header-anchor">#</a> 导出声明</h2> <p>任何声明（比如变量，函数，类，类型别名或接口）都能够通过添加 <code>export</code>  关键字来导出。</p> <h5 id="stringvalidator-ts"><a href="#stringvalidator-ts" class="header-anchor">#</a> StringValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="zipcodevalidator-ts"><a href="#zipcodevalidator-ts" class="header-anchor">#</a> ZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StringValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./StringValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> numberRegexp <span class="token operator">=</span> <span class="token regex">/^[0-9]+$/</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ZipCodeValidator</span> <span class="token keyword">implements</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="导出语句"><a href="#导出语句" class="header-anchor">#</a> 导出语句</h2> <p>导出语句很便利，因为我们可能需要对导出的部分重命名，所以上面的例子可以这样改写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">ZipCodeValidator</span> <span class="token keyword">implements</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token keyword">as</span> mainValidator <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="重新导出"><a href="#重新导出" class="header-anchor">#</a> 重新导出</h2> <p>我们经常会去扩展其它模块，并且只导出那个模块的部分内容。
重新导出功能并不会在当前模块导入那个模块或定义一个新的局部变量。</p> <h5 id="parseintbasedzipcodevalidator-ts"><a href="#parseintbasedzipcodevalidator-ts" class="header-anchor">#</a> ParseIntBasedZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ParseIntBasedZipCodeValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 导出原先的验证器但做了重命名</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>ZipCodeValidator <span class="token keyword">as</span> RegExpBasedZipCodeValidator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>或者一个模块可以包裹多个模块，并把他们导出的内容联合在一起通过语法： <code>export * from &quot;module&quot;</code> 。</p> <h5 id="allvalidators-ts"><a href="#allvalidators-ts" class="header-anchor">#</a> AllValidators.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;./StringValidator&quot;</span><span class="token punctuation">;</span> <span class="token comment">// exports 'StringValidator' interface</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// exports 'ZipCodeValidator' and const 'numberRegexp' class</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;./ParseIntBasedZipCodeValidator&quot;</span><span class="token punctuation">;</span> <span class="token comment">//  exports the 'ParseIntBasedZipCodeValidator' class</span>
                                                 <span class="token comment">// and re-exports 'RegExpBasedZipCodeValidator' as alias</span>
                                                 <span class="token comment">// of the 'ZipCodeValidator' class from 'ZipCodeValidator.ts'</span>
</code></pre></div><h1 id="导入"><a href="#导入" class="header-anchor">#</a> <a name="import"></a>导入</h1> <p>模块的导入操作与导出一样简单。
可以使用以下 <code>import</code>  形式之一来导入其它模块中的导出内容。</p> <h2 id="导入一个模块中的某个导出内容"><a href="#导入一个模块中的某个导出内容" class="header-anchor">#</a> 导入一个模块中的某个导出内容</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> myValidator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以对导入内容重命名</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token keyword">as</span> <span class="token constant">ZCV</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myValidator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZCV</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="将整个模块导入到一个变量，并通过它来访问模块的导出部分"><a href="#将整个模块导入到一个变量，并通过它来访问模块的导出部分" class="header-anchor">#</a> 将整个模块导入到一个变量，并通过它来访问模块的导出部分</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> validator <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myValidator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">validator<span class="token punctuation">.</span>ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="具有副作用的导入模块"><a href="#具有副作用的导入模块" class="header-anchor">#</a> 具有副作用的导入模块</h2> <p>尽管不推荐这么做，一些模块会设置一些全局状态供其它模块使用。
这些模块可能没有任何的导出或用户根本就不关注它的导出。
使用下面的方法来导入这类模块：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token string">&quot;./my-module.js&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="默认导出"><a href="#默认导出" class="header-anchor">#</a> 默认导出</h1> <p>每个模块都可以有一个 <code>default</code>  导出。
默认导出使用 <code>default</code>  关键字标记；并且一个模块只能够有一个 <code>default</code>  导出。
需要使用一种特殊的导入形式来导入 <code>default</code>  导出。</p> <p><code>default</code>  导出十分便利。
比如，像 jQuery 这样的类库可能有一个默认导出 <code>jQuery</code>  或 <code>$</code> ，并且我们基本上也会使用同样的名字 <code>jQuery</code>  或 <code>$</code>  导出 jQuery。</p> <h5 id="jquery-d-ts"><a href="#jquery-d-ts" class="header-anchor">#</a> <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jQuery/jQuery.d.ts" target="_blank" rel="noopener noreferrer">jQuery.d.ts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">let</span> $<span class="token punctuation">:</span> jQuery<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> $<span class="token punctuation">;</span>
</code></pre></div><h5 id="app-ts"><a href="#app-ts" class="header-anchor">#</a> App.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&quot;jQuery&quot;</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;button.continue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span> <span class="token string">&quot;Next Step...&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>类和函数声明可以直接被标记为默认导出。
标记为默认导出的类和函数的名字是可以省略的。</p> <h5 id="zipcodevalidator-ts-2"><a href="#zipcodevalidator-ts-2" class="header-anchor">#</a> ZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ZipCodeValidator</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> numberRegexp <span class="token operator">=</span> <span class="token regex">/^[0-9]+$/</span><span class="token punctuation">;</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> ZipCodeValidator<span class="token punctuation">.</span>numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="test-ts"><a href="#test-ts" class="header-anchor">#</a> Test.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> validator <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> myValidator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">validator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>或者</p> <h5 id="staticzipcodevalidator-ts"><a href="#staticzipcodevalidator-ts" class="header-anchor">#</a> StaticZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> numberRegexp <span class="token operator">=</span> <span class="token regex">/^[0-9]+$/</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="test-ts-2"><a href="#test-ts-2" class="header-anchor">#</a> Test.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> validate <span class="token keyword">from</span> <span class="token string">&quot;./StaticZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;98052&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;101&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Use function validate</span>
strings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">validate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;matches&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;does not match&quot;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>default</code>  导出也可以是一个值</p> <h5 id="onetwothree-ts"><a href="#onetwothree-ts" class="header-anchor">#</a> OneTwoThree.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="log-ts"><a href="#log-ts" class="header-anchor">#</a> Log.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> num <span class="token keyword">from</span> <span class="token string">&quot;./OneTwoThree&quot;</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;123&quot;</span>
</code></pre></div><h1 id="export-和-import-require"><a href="#export-和-import-require" class="header-anchor">#</a> <code>export =</code>  和  <code>import = require()</code></h1> <p>CommonJS 和 AMD 的环境里都有一个 <code>exports</code>  变量，这个变量包含了一个模块的所有导出内容。</p> <p>CommonJS 和 AMD 的 <code>exports</code>  都可以被赋值为一个 <code>对象</code> ，这种情况下其作用就类似于 es6 语法里的默认导出，即  <code>export default</code>  语法了。虽然作用相似，但是  <code>export default</code>  语法并不能兼容 CommonJS 和 AMD 的 <code>exports</code> 。</p> <p>为了支持 CommonJS 和 AMD 的 <code>exports</code> , TypeScript 提供了 <code>export =</code>  语法。</p> <p><code>export =</code>  语法定义一个模块的导出 <code>对象</code> 。
这里的 <code>对象</code> 一词指的是类，接口，命名空间，函数或枚举。</p> <p>若使用 <code>export =</code>  导出一个模块，则必须使用 TypeScript 的特定语法 <code>import module = require(&quot;module&quot;)</code>  来导入此模块。</p> <h5 id="zipcodevalidator-ts-3"><a href="#zipcodevalidator-ts-3" class="header-anchor">#</a> ZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> numberRegexp <span class="token operator">=</span> <span class="token regex">/^[0-9]+$/</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">ZipCodeValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token operator">=</span> ZipCodeValidator<span class="token punctuation">;</span>
</code></pre></div><h5 id="test-ts-3"><a href="#test-ts-3" class="header-anchor">#</a> Test.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> zip <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Some samples to try</span>
<span class="token keyword">let</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;98052&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;101&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Validators to use</span>
<span class="token keyword">let</span> validator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">zip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Show whether each string passed each validator</span>
strings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> s <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> validator<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;matches&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;does not match&quot;</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="生成模块代码"><a href="#生成模块代码" class="header-anchor">#</a> 生成模块代码</h1> <p>根据编译时指定的模块目标参数，编译器会生成相应的供 Node.js (<a href="http://wiki.commonjs.org/wiki/CommonJS" target="_blank" rel="noopener noreferrer">CommonJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)，Require.js (<a href="https://github.com/amdjs/amdjs-api/wiki/AMD" target="_blank" rel="noopener noreferrer">AMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)，<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer">UMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://github.com/systemjs/systemjs" target="_blank" rel="noopener noreferrer">SystemJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或<a href="http://www.ecma-international.org/ecma-262/6.0/#sec-modules" target="_blank" rel="noopener noreferrer"> ECMAScript 2015 native modules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (ES6) 模块加载系统使用的代码。
想要了解生成代码中 <code>define</code> ， <code>require</code>  和  <code>register</code>  的意义，请参考相应模块加载器的文档。</p> <p>下面的例子说明了导入导出语句里使用的名字是怎么转换为相应的模块加载器代码的。</p> <h5 id="simplemodule-ts"><a href="#simplemodule-ts" class="header-anchor">#</a> SimpleModule.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> m <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;mod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> t <span class="token operator">=</span> m<span class="token punctuation">.</span>something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="amd-requirejs-simplemodule-js"><a href="#amd-requirejs-simplemodule-js" class="header-anchor">#</a> AMD / RequireJS SimpleModule.js</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;require&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exports&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./mod&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> mod_1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    exports<span class="token punctuation">.</span>t <span class="token operator">=</span> mod_1<span class="token punctuation">.</span>something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="commonjs-node-simplemodule-js"><a href="#commonjs-node-simplemodule-js" class="header-anchor">#</a> CommonJS / Node SimpleModule.js</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> mod_1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./mod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>t <span class="token operator">=</span> mod_1<span class="token punctuation">.</span>something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="umd-simplemodule-js"><a href="#umd-simplemodule-js" class="header-anchor">#</a> UMD SimpleModule.js</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module<span class="token punctuation">.</span>exports <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>require<span class="token punctuation">,</span> exports<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;require&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exports&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./mod&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> mod_1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./mod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    exports<span class="token punctuation">.</span>t <span class="token operator">=</span> mod_1<span class="token punctuation">.</span>something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="system-simplemodule-js"><a href="#system-simplemodule-js" class="header-anchor">#</a> System SimpleModule.js</h5> <div class="language-js extra-class"><pre class="language-js"><code>System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./mod&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports_1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> mod_1<span class="token punctuation">;</span>
    <span class="token keyword">let</span> t<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        setters<span class="token punctuation">:</span><span class="token punctuation">[</span>
            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">mod_1_1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mod_1 <span class="token operator">=</span> mod_1_1<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function-variable function">execute</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">exports_1</span><span class="token punctuation">(</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> t <span class="token operator">=</span> mod_1<span class="token punctuation">.</span>something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="native-ecmascript-2015-modules-simplemodule-js"><a href="#native-ecmascript-2015-modules-simplemodule-js" class="header-anchor">#</a> Native ECMAScript 2015 modules SimpleModule.js</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> something <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./mod&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> t <span class="token operator">=</span> something <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="简单示例"><a href="#简单示例" class="header-anchor">#</a> 简单示例</h1> <p>下面我们来整理一下前面的验证器实现，每个模块只有一个命名的导出。</p> <p>为了编译，我们必需要在命令行上指定一个模块目标。对于 Node.js 来说，使用 <code>--module commonjs</code> ；
对于 Require.js 来说，使用 <code>--module amd</code> 。比如：</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>tsc --module commonjs Test.ts
</code></pre></div><p>编译完成后，每个模块会生成一个单独的 <code>.js</code>  文件。
好比使用了 reference 标签，编译器会根据 <code>import</code>  语句编译相应的文件。</p> <h5 id="validation-ts"><a href="#validation-ts" class="header-anchor">#</a> Validation.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="lettersonlyvalidator-ts"><a href="#lettersonlyvalidator-ts" class="header-anchor">#</a> LettersOnlyValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StringValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Validation&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> lettersRegexp <span class="token operator">=</span> <span class="token regex">/^[A-Za-z]+$/</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LettersOnlyValidator</span> <span class="token keyword">implements</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lettersRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="zipcodevalidator-ts-4"><a href="#zipcodevalidator-ts-4" class="header-anchor">#</a> ZipCodeValidator.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StringValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Validation&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> numberRegexp <span class="token operator">=</span> <span class="token regex">/^[0-9]+$/</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ZipCodeValidator</span> <span class="token keyword">implements</span> <span class="token class-name">StringValidator</span> <span class="token punctuation">{</span>
    <span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> numberRegexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="test-ts-4"><a href="#test-ts-4" class="header-anchor">#</a> Test.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StringValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Validation&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LettersOnlyValidator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./LettersOnlyValidator&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Some samples to try</span>
<span class="token keyword">let</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;98052&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;101&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Validators to use</span>
<span class="token keyword">let</span> validators<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>s<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> StringValidator<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
validators<span class="token punctuation">[</span><span class="token string">&quot;ZIP code&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
validators<span class="token punctuation">[</span><span class="token string">&quot;Letters only&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LettersOnlyValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Show whether each string passed each validator</span>
strings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">in</span> validators<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> s <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> validators<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;matches&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;does not match&quot;</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="可选的模块加载和其它高级加载场景"><a href="#可选的模块加载和其它高级加载场景" class="header-anchor">#</a> 可选的模块加载和其它高级加载场景</h1> <p>有时候，你只想在某种条件下才加载某个模块。
在 TypeScript 里，使用下面的方式来实现它和其它的高级加载场景，我们可以直接调用模块加载器并且可以保证类型完全。</p> <p>编译器会检测是否每个模块都会在生成的 JavaScript 中用到。
如果一个模块标识符只在类型注解部分使用，并且完全没有在表达式中使用时，就不会生成 <code>require</code>  这个模块的代码。
省略掉没有用到的引用对性能提升是很有益的，并同时提供了选择性加载模块的能力。</p> <p>这种模式的核心是 <code>import id = require(&quot;...&quot;)</code>  语句可以让我们访问模块导出的类型。
模块加载器会被动态调用（通过 <code>require</code> ），就像下面 <code>if</code>  代码块里那样。
它利用了省略引用的优化，所以模块只在被需要时加载。
为了让这个模块工作，一定要注意 <code>import</code>  定义的标识符只能在表示类型处使用（不能在会转换成 JavaScript 的地方）。</p> <p>为了确保类型安全性，我们可以使用 <code>typeof</code>  关键字。
 <code>typeof</code>  关键字，当在表示类型的地方使用时，会得出一个类型值，这里就表示模块的类型。</p> <h5 id="示例：node-js里的动态模块加载"><a href="#示例：node-js里的动态模块加载" class="header-anchor">#</a> 示例：Node.js 里的动态模块加载</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token parameter">moduleName<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token keyword">as</span> Zip <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>needZipValidation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ZipCodeValidator<span class="token punctuation">:</span> <span class="token keyword">typeof</span> Zip <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> validator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>validator<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="示例：require-js里的动态模块加载"><a href="#示例：require-js里的动态模块加载" class="header-anchor">#</a> 示例：require.js 里的动态模块加载</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token keyword">require</span><span class="token punctuation">(</span>moduleNames<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">onLoad</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Zip <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>needZipValidation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ZipCodeValidator<span class="token punctuation">:</span> <span class="token keyword">typeof</span> Zip</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> validator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipCodeValidator<span class="token punctuation">.</span>ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>validator<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="示例：system-js里的动态模块加载"><a href="#示例：system-js里的动态模块加载" class="header-anchor">#</a> 示例：System.js 里的动态模块加载</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">const</span> System<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ZipCodeValidator <span class="token keyword">as</span> Zip <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>needZipValidation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    System<span class="token punctuation">.</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./ZipCodeValidator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ZipCodeValidator<span class="token punctuation">:</span> <span class="token keyword">typeof</span> Zip</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipCodeValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">isAcceptable</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="使用其它的javascript库"><a href="#使用其它的javascript库" class="header-anchor">#</a> 使用其它的 JavaScript 库</h1> <p>要想描述非 TypeScript 编写的类库的类型，我们需要声明类库所暴露出的 API。</p> <p>我们叫它声明因为它不是 “外部程序” 的具体实现。
它们通常是在 <code>.d.ts</code>  文件里定义的。
如果你熟悉 C/C++，你可以把它们当做 <code>.h</code>  文件。
让我们看一些例子。</p> <h2 id="外部模块"><a href="#外部模块" class="header-anchor">#</a> 外部模块</h2> <p>在 Node.js 里大部分工作是通过加载一个或多个模块实现的。
我们可以使用顶级的 <code>export</code>  声明来为每个模块都定义一个 <code>.d.ts</code>  文件，但最好还是写在一个大的 <code>.d.ts</code>  文件里。
我们使用与构造一个外部命名空间相似的方法，但是这里使用 <code>module</code>  关键字并且把名字用引号括起来，方便之后 <code>import</code> 。
例如：</p> <h5 id="node-d-ts-simplified-excerpt"><a href="#node-d-ts-simplified-excerpt" class="header-anchor">#</a> node.d.ts (simplified excerpt)</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;url&quot;</span> <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Url</span> <span class="token punctuation">{</span>
        protocol<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
        hostname<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
        pathname<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">urlStr<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> parseQueryString<span class="token operator">?</span><span class="token punctuation">,</span> slashesDenoteHost<span class="token operator">?</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> Url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;path&quot;</span> <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">normalize</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>paths<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">let</span> sep<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在我们可以 <code>/// &lt;reference&gt;</code> <code>node.d.ts</code>  并且使用 <code>import url = require(&quot;url&quot;);</code>  或 <code>import * as URL from &quot;url&quot;</code>  加载模块。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/// &lt;reference path=&quot;node.d.ts&quot;/&gt;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">URL</span> <span class="token keyword">from</span> <span class="token string">&quot;url&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myUrl <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.typescriptlang.org&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="外部模块简写"><a href="#外部模块简写" class="header-anchor">#</a> 外部模块简写</h3> <p>假如你不想在使用一个新模块之前花时间去编写声明，你可以采用声明的简写形式以便能够快速使用它。</p> <h5 id="declarations-d-ts"><a href="#declarations-d-ts" class="header-anchor">#</a> declarations.d.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;hot-new-module&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>简写模块里所有导出的类型将是 <code>any</code> 。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> x<span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;hot-new-module&quot;</span><span class="token punctuation">;</span>
<span class="token function">x</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="模块声明通配符"><a href="#模块声明通配符" class="header-anchor">#</a> 模块声明通配符</h3> <p>某些模块加载器如<a href="https://github.com/systemjs/systemjs/blob/master/docs/overview.md#plugin-syntax" target="_blank" rel="noopener noreferrer"> SystemJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
 和<a href="https://github.com/amdjs/amdjs-api/blob/master/LoaderPlugins.md" target="_blank" rel="noopener noreferrer"> AMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 支持导入非 JavaScript 内容。
它们通常会使用一个前缀或后缀来表示特殊的加载语法。
模块声明通配符可以用来表示这些情况。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;*!text&quot;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> content<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Some do it the other way around.</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;json!*&quot;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在你可以就导入匹配 <code>&quot;*!text&quot;</code>  或 <code>&quot;json!*&quot;</code>  的内容了。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> fileContent <span class="token keyword">from</span> <span class="token string">&quot;./xyz.txt!text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> data <span class="token keyword">from</span> <span class="token string">&quot;json!http://example.com/data.json&quot;</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> fileContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="umd模块"><a href="#umd模块" class="header-anchor">#</a> UMD 模块</h3> <p>有些模块被设计成兼容多个模块加载器，或者不使用模块加载器（全局变量）。
它们以<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer"> UMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 模块为代表。
这些库可以通过导入的形式或全局变量的形式访问。
例如：</p> <h5 id="math-lib-d-ts"><a href="#math-lib-d-ts" class="header-anchor">#</a> math-lib.d.ts</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">as</span> <span class="token keyword">namespace</span> mathLib<span class="token punctuation">;</span>
</code></pre></div><p>之后，这个库可以在某个模块里通过导入来使用：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> isPrime <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;math-lib&quot;</span><span class="token punctuation">;</span>
<span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mathLib<span class="token punctuation">.</span><span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR: can't use the global definition from inside a module</span>
</code></pre></div><p>它同样可以通过全局变量的形式使用，但只能在某个脚本里。
（脚本是指一个不带有导入或导出的文件。）</p> <div class="language-ts extra-class"><pre class="language-ts"><code>mathLib<span class="token punctuation">.</span><span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="创建模块结构指导"><a href="#创建模块结构指导" class="header-anchor">#</a> 创建模块结构指导</h1> <h2 id="尽可能地在顶层导出"><a href="#尽可能地在顶层导出" class="header-anchor">#</a> 尽可能地在顶层导出</h2> <p>用户应该更容易地使用你模块导出的内容。
嵌套层次过多会变得难以处理，因此仔细考虑一下如何组织你的代码。</p> <p>从你的模块中导出一个命名空间就是一个增加嵌套的例子。
虽然命名空间有时候有它们的用处，在使用模块的时候它们额外地增加了一层。
这对用户来说是很不便的并且通常是多余的。</p> <p>导出类的静态方法也有同样的问题 - 这个类本身就增加了一层嵌套。
除非它能方便表述或便于清晰使用，否则请考虑直接导出一个辅助方法。</p> <h3 id="如果仅导出单个-class-或-function，使用-export-default"><a href="#如果仅导出单个-class-或-function，使用-export-default" class="header-anchor">#</a> 如果仅导出单个  <code>class</code>  或  <code>function</code> ，使用  <code>export default</code></h3> <p>就像 “在顶层上导出” 帮助减少用户使用的难度，一个默认的导出也能起到这个效果。
如果一个模块就是为了导出特定的内容，那么你应该考虑使用一个默认导出。
这会令模块的导入和使用变得些许简单。
比如：</p> <h4 id="myclass-ts"><a href="#myclass-ts" class="header-anchor">#</a> MyClass.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">SomeType</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="myfunc-ts"><a href="#myfunc-ts" class="header-anchor">#</a> MyFunc.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">getThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'thing'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="consumer-ts"><a href="#consumer-ts" class="header-anchor">#</a> Consumer.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> t <span class="token keyword">from</span> <span class="token string">&quot;./MyClass&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> f <span class="token keyword">from</span> <span class="token string">&quot;./MyFunc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>对用户来说这是最理想的。他们可以随意命名导入模块的类型（本例为 <code>t</code> ）并且不需要多余的（.）来找到相关对象。</p> <h3 id="如果要导出多个对象，把它们放在顶层里导出"><a href="#如果要导出多个对象，把它们放在顶层里导出" class="header-anchor">#</a> 如果要导出多个对象，把它们放在顶层里导出</h3> <h4 id="mythings-ts"><a href="#mythings-ts" class="header-anchor">#</a> MyThings.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SomeType</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
</code></pre></div><p>相反地，当导入的时候：</p> <h3 id="明确地列出导入的名字"><a href="#明确地列出导入的名字" class="header-anchor">#</a> 明确地列出导入的名字</h3> <h4 id="consumer-ts-2"><a href="#consumer-ts-2" class="header-anchor">#</a> Consumer.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> SomeType<span class="token punctuation">,</span> SomeFunc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./MyThings&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用命名空间导入模式当你要导出大量内容的时候"><a href="#使用命名空间导入模式当你要导出大量内容的时候" class="header-anchor">#</a> 使用命名空间导入模式当你要导出大量内容的时候</h3> <h4 id="mylargemodule-ts"><a href="#mylargemodule-ts" class="header-anchor">#</a> MyLargeModule.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Tree</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Flower</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="consumer-ts-3"><a href="#consumer-ts-3" class="header-anchor">#</a> Consumer.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myLargeModule <span class="token keyword">from</span> <span class="token string">&quot;./MyLargeModule.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myLargeModule<span class="token punctuation">.</span>Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="使用重新导出进行扩展"><a href="#使用重新导出进行扩展" class="header-anchor">#</a> 使用重新导出进行扩展</h2> <p>你可能经常需要去扩展一个模块的功能。
JS 里常用的一个模式是 jQuery 那样去扩展原对象。
如我们之前提到的，模块不会像全局命名空间对象那样去<em>合并</em>。
推荐的方案是<em>不要</em>去改变原来的对象，而是导出一个新的实体来提供新的功能。</p> <p>假设 <code>Calculator.ts</code>  模块里定义了一个简单的计算器实现。
这个模块同样提供了一个辅助函数来测试计算器的功能，通过传入一系列输入的字符串并在最后给出结果。</p> <h4 id="calculator-ts"><a href="#calculator-ts" class="header-anchor">#</a> Calculator.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> memory <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> operator<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token function">processDigit</span><span class="token punctuation">(</span><span class="token parameter">digit<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> currentValue<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>digit <span class="token operator">&gt;=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">&amp;&amp;</span> digit <span class="token operator">&lt;=</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> currentValue <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">(</span>digit<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">processOperator</span><span class="token punctuation">(</span><span class="token parameter">operator<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>operator<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> operator<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">evaluateOperator</span><span class="token punctuation">(</span>operator<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>operator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">:</span> <span class="token keyword">return</span> left <span class="token operator">+</span> right<span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">:</span> <span class="token keyword">return</span> left <span class="token operator">-</span> right<span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">:</span> <span class="token keyword">return</span> left <span class="token operator">*</span> right<span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">:</span> <span class="token keyword">return</span> left <span class="token operator">/</span> right<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>operator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>memory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">evaluateOperator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>operator<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>memory<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>memory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">handleChar</span><span class="token punctuation">(</span><span class="token parameter">char<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>char <span class="token operator">===</span> <span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">processDigit</span><span class="token punctuation">(</span>char<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">=</span> value<span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">processOperator</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>operator <span class="token operator">=</span> value<span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unsupported input: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>char<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>memory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">c<span class="token punctuation">:</span> Calculator<span class="token punctuation">,</span> input<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span><span class="token function">handleChar</span><span class="token punctuation">(</span>input<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result of '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>input<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">' is '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>下面使用导出的 <code>test</code>  函数来测试计算器。</p> <h4 id="testcalculator-ts"><a href="#testcalculator-ts" class="header-anchor">#</a> TestCalculator.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Calculator<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Calculator&quot;</span><span class="token punctuation">;</span>


<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token string">&quot;1+2*33/11=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints 9</span>
</code></pre></div><p>现在扩展它，添加支持输入其它进制（十进制以外），让我们来创建 <code>ProgrammerCalculator.ts</code> 。</p> <h4 id="programmercalculator-ts"><a href="#programmercalculator-ts" class="header-anchor">#</a> ProgrammerCalculator.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Calculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ProgrammerCalculator</span> <span class="token keyword">extends</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;E&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> base<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> maxBase <span class="token operator">=</span> ProgrammerCalculator<span class="token punctuation">.</span>digits<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>base <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> base <span class="token operator">&gt;</span> maxBase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">base has to be within 0 to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxBase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> inclusive.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">processDigit</span><span class="token punctuation">(</span><span class="token parameter">digit<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> currentValue<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ProgrammerCalculator<span class="token punctuation">.</span>digits<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> currentValue <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>base <span class="token operator">+</span> ProgrammerCalculator<span class="token punctuation">.</span>digits<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Export the new extended calculator as Calculator</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> ProgrammerCalculator <span class="token keyword">as</span> Calculator <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Also, export the helper function</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Calculator&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>新的 <code>ProgrammerCalculator</code>  模块导出的 API 与原先的 <code>Calculator</code>  模块很相似，但却没有改变原模块里的对象。
下面是测试 ProgrammerCalculator 类的代码：</p> <h4 id="testprogrammercalculator-ts"><a href="#testprogrammercalculator-ts" class="header-anchor">#</a> TestProgrammerCalculator.ts</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Calculator<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./ProgrammerCalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token string">&quot;001+010=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints 3</span>
</code></pre></div><h2 id="模块里不要使用命名空间"><a href="#模块里不要使用命名空间" class="header-anchor">#</a> 模块里不要使用命名空间</h2> <p>当初次进入基于模块的开发模式时，可能总会控制不住要将导出包裹在一个命名空间里。
模块具有其自己的作用域，并且只有导出的声明才会在模块外部可见。
记住这点，命名空间在使用模块时几乎没什么价值。</p> <p>在组织方面，命名空间对于在全局作用域内对逻辑上相关的对象和类型进行分组是很便利的。
例如，在 C# 里，你会从 <code>System.Collections</code>  里找到所有集合的类型。
通过将类型有层次地组织在命名空间里，可以方便用户找到与使用那些类型。
然而，模块本身已经存在于文件系统之中，这是必须的。
我们必须通过路径和文件名找到它们，这已经提供了一种逻辑上的组织形式。
我们可以创建 <code>/collections/generic/</code>  文件夹，把相应模块放在这里面。</p> <p>命名空间对解决全局作用域里命名冲突来说是很重要的。
比如，你可以有一个 <code>My.Application.Customer.AddForm</code>  和 <code>My.Application.Order.AddForm</code>  -- 两个类型的名字相同，但命名空间不同。
然而，这对于模块来说却不是一个问题。
在一个模块里，没有理由两个对象拥有同一个名字。
从模块的使用角度来说，使用者会挑出他们用来引用模块的名字，所以也没有理由发生重名的情况。</p> <blockquote><p>更多关于模块和命名空间的资料查看<a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Namespaces and Modules.html">命名空间和模块</a></p></blockquote> <h2 id="危险信号"><a href="#危险信号" class="header-anchor">#</a> 危险信号</h2> <p>以下均为模块结构上的危险信号。重新检查以确保你没有在对模块使用命名空间：</p> <ul><li>文件的顶层声明是 <code>export namespace Foo { ... }</code>  （删除 <code>Foo</code>  并把所有内容向上层移动一层）©</li> <li>多个文件的顶层具有同样的 <code>export namespace Foo {</code>  （不要以为这些会合并到一个 <code>Foo</code>  中！）</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2019-12-15 15:19:31</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Iterators and Generators.html" class="prev">Iterators 和 Generators</a></span> <span class="next"><a href="/Typescript-manual/dist/backups/TypeScript-master/doc/handbook/Namespaces.html">命名空间</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div class="reading-progress top" data-v-56679cca><div class="progress" data-v-56679cca></div></div></div></div>
    <script src="/Typescript-manual/dist/assets/js/app.6df4dbfd.js" defer></script><script src="/Typescript-manual/dist/assets/js/2.a0a5f29f.js" defer></script><script src="/Typescript-manual/dist/assets/js/52.6b22e269.js" defer></script>
  </body>
</html>
